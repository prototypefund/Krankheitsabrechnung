<!DOCTYPE html>
<html lang="de" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

 


      <title>simpelmed - </title>

  <meta name="description" content="GNUmed Datenbank Installation Fahrplan In mehreren Schritten wird nun eine »leere« GNUmed-Datenbank installiert und eingerichtet, auf der die darauf folgenden Entwicklungsschritte stattfinden werden. Etwas vereinfacht sieht dies wie folgt aus: 1) Server-Pakete aus den Debian-Repos installieren 2) Anpassung an deutsche Sprachversion vornehmen 3) → bugfix durchführen (Version vom Oktober 2023 lässt sich ansonsten nicht installieren!) 4) Bootstrap der GNUmed-Datenbank 5) weitere Anpassungen vornehmen.
Pakete aus dem Repo Der erste Schritt ist schnell durchgeführt.">
  <meta name="author" content="Berthold Gehrke"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "simpelmed",
    
    "url": "https:\/\/simpelmed.de"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/simpelmed.de"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/simpelmed.de",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/simpelmed.de\/infos\/gnumed-installation\/",
          "name": ""
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Berthold Gehrke"
  },
  "headline": "",
  "description" : "GNUmed Datenbank Installation Fahrplan In mehreren Schritten wird nun eine »leere« GNUmed-Datenbank installiert und eingerichtet, auf der die darauf folgenden Entwicklungsschritte stattfinden werden. Etwas vereinfacht sieht dies wie folgt aus: 1) Server-Pakete aus den Debian-Repos installieren 2) Anpassung an deutsche Sprachversion vornehmen 3) → bugfix durchführen (Version vom Oktober 2023 lässt sich ansonsten nicht installieren!) 4) Bootstrap der GNUmed-Datenbank 5) weitere Anpassungen vornehmen.\nPakete aus dem Repo Der erste Schritt ist schnell durchgeführt.",
  "inLanguage" : "de",
  "wordCount":  454 ,
  "datePublished" : "0001-01-01T00:00:00",
  "dateModified" : "0001-01-01T00:00:00",
  "image" : "https:\/\/simpelmed.de\/img\/simpelmed.jpg",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/simpelmed.de\/infos\/gnumed-installation\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/simpelmed.de",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/simpelmed.de\/img\/simpelmed.jpg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="simpelmed" />
<meta property="og:description" content="GNUmed Datenbank Installation Fahrplan In mehreren Schritten wird nun eine »leere« GNUmed-Datenbank installiert und eingerichtet, auf der die darauf folgenden Entwicklungsschritte stattfinden werden. Etwas vereinfacht sieht dies wie folgt aus: 1) Server-Pakete aus den Debian-Repos installieren 2) Anpassung an deutsche Sprachversion vornehmen 3) → bugfix durchführen (Version vom Oktober 2023 lässt sich ansonsten nicht installieren!) 4) Bootstrap der GNUmed-Datenbank 5) weitere Anpassungen vornehmen.
Pakete aus dem Repo Der erste Schritt ist schnell durchgeführt.">
<meta property="og:image" content="https://simpelmed.de/img/simpelmed.jpg" />
<meta property="og:url" content="https://simpelmed.de/infos/gnumed-installation/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="simpelmed" />

  <meta name="twitter:title" content="simpelmed" />
  <meta name="twitter:description" content="GNUmed Datenbank Installation Fahrplan In mehreren Schritten wird nun eine »leere« GNUmed-Datenbank installiert und eingerichtet, auf der die darauf folgenden Entwicklungsschritte stattfinden werden. …">
  <meta name="twitter:image" content="https://simpelmed.de/img/simpelmed.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <link href='https://simpelmed.de/img/simpelmed.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.115.4">
  <link rel="alternate" href="https://simpelmed.de/index.xml" type="application/rss+xml" title="simpelmed"><link rel="stylesheet" href="https://simpelmed.de/css/katex.min.css" />
  <link rel="stylesheet" href="https://simpelmed.de/fontawesome/css/all.css" />
  <link rel="stylesheet" href="https://simpelmed.de/css/bootstrap.min.css" /><link rel="stylesheet" href="https://simpelmed.de/css/main.css" /><link rel="stylesheet" href="https://simpelmed.de/css/fonts.css" /><link rel="stylesheet" href="https://simpelmed.de/css/syntax.css" /><link rel="stylesheet" href="https://simpelmed.de/css/codeblock.css" /><link rel="stylesheet" href="https://simpelmed.de/css/photoswipe.min.css" />
  <link rel="stylesheet" href="https://simpelmed.de/css/photoswipe.default-skin.min.css" />


<style>

 

div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}


div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}
</style>


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://simpelmed.de">simpelmed</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Start" href="/">Start</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Infos</a>
              <div class="navlinks-children">
                
                  <a href="/infos/arbeitsumgebung">Arbeitsumgebung</a>
                
                  <a href="/infos/postgresql-pgadmin">PostgreSQL-pgAdmin</a>
                
                  <a href="/infos/gnumed-installation">GNUmed-Installation</a>
                
                  <a href="/infos/gnumed-einrichtung">GNUmed-Einrichtung</a>
                
                  <a href="/infos/repo">Repo</a>
                
                  <a href="/infos/team">Team</a>
                
                  <a href="/infos/foerderung">Förderung</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="FAQ / Häufige Fragen" href="/faq">FAQ / Häufige Fragen</a>
            </li>
          
        
          
            <li>
              <a title="datenschutz" href="/datenschutz">datenschutz</a>
            </li>
          
        
          
            <li>
              <a title="impressum" href="/impressum">impressum</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="simpelmed" href="https://simpelmed.de">
            <img class="avatar-img" src="https://simpelmed.de/img/simpelmed.jpg" alt="simpelmed" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  <div class="intro-header"></div>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <div class="sect1">
<h2 id="_gnumed_datenbank_installation">GNUmed Datenbank Installation</h2>
<div class="sectionbody">
</div>
</div>
<div class="sect1">
<h2 id="_fahrplan">Fahrplan</h2>
<div class="sectionbody">
<div class="paragraph"><p>In mehreren Schritten wird nun eine »leere« GNUmed-Datenbank installiert und eingerichtet, auf der die darauf folgenden Entwicklungsschritte stattfinden werden.<br/>
Etwas vereinfacht sieht dies wie folgt aus:<br/>
1) Server-Pakete aus den Debian-Repos installieren<br/>
2) Anpassung an deutsche Sprachversion vornehmen<br/>
3) → bugfix durchführen (Version vom Oktober 2023 lässt sich ansonsten nicht installieren!)<br/>
4) <em>Bootstrap</em> der GNUmed-Datenbank<br/>
5) weitere Anpassungen vornehmen.</p></div>
<div class="sect2">
<h3 id="_pakete_aus_dem_repo">Pakete aus dem Repo</h3>
<div class="paragraph"><p>Der erste Schritt ist schnell durchgeführt. Die GNUmed-Server-Pakete werden installiert.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>apt install --no-install-recommends --no-install-suggests postgresql-client
apt install --no-install-recommends --no-install-suggests gnumed-server</code></pre>
</div></div>
<div class="paragraph"><p>Erläuterung: Die empfohlenen und/oder vorgeschlagenen Paktete braucht es vorerst nicht. Falls noch kein PostgreSQL installiert ist, geschieht dies mit diesem Befehl. Es ist allerdings sicherer, PostgreSQL vorab wie in unserem Vorgehen zu installieren, damit sichergestellt ist, dass nicht z.B. Version 16 (die ist noch zu »frisch«) gewählt wird.</p></div>
<div class="paragraph"><p>Versucht der geneigte Anwender, nun gleich <em>gm-bootstrap_server</em>, wird dies (Stand Okt. &#39;23) leider nicht fuktionieren - es folgt die Fehlermeldung</p></div>
<div class="listingblock">
<div class="content">
<pre><code>...
==&gt; transferring users ...
    ... skipped (unconfigured)
==&gt; bootstrapping &#34;v2-v3-dynamic&#34; ...
Cannot bootstrap bundles.

Please check the log file for details:

  /var/log/gnumed/server/bootstrap-latest.log

Bootstrapping &#34;gnumed_v22&#34; did not finish successfully (1). Aborting.
...</code></pre>
</div></div>
<div class="paragraph"><p>und im erwähnten Log-File (gekürzt …)</p></div>
<div class="listingblock">
<div class="content">
<pre><code>...
2023-09-22 14:37:42  DEBUG     gm.db_pool    [140273691701248 MainThread]  ..
2023-09-22 14:37:42  DEBUG     gm.db_pool    [140273691701248 MainThread]  ..
2023-09-22 14:37:42  INFO      gm.bootstrapper  [140273691701248 MainThread] .
2023-09-22 14:37:42  ERROR     gm.bootstrapper  [140273691701248 MainThread] .
Traceback (most recent call last):
  File &#34;/var/lib/gnumed/server/bootstrap/./bootstrap_gm_db_system.py&#34;, line 641, in __bootstrap
    text = gmPG2.get_db_fingerprint(conn = self.conn, eol = &#39;\n&#39;)
  File &#34;/var/lib/gnumed/Gnumed/pycommon/gmPG2.py&#34;, line 483, in get_db_fingerprint
    curs.execute(cmd)
  File &#34;/usr/lib/python3/dist-packages/psycopg2/extras.py&#34;, line 146, in execute
    return super().execute(query, vars)
psycopg2.errors.InvalidSchemaName: schema &#34;gm&#34; does not exist
LINE 1: SELECT md5(gm.concat_table_structure())
                   ^
2023-09-22 14:37:42  DEBUG     gm.cfg        [140273691701248 MainThread]  ..
2023-09-22 14:37:42  WARNING   gm.bootstrapper  [140273691701248 MainThread] ..
2023-09-22 14:37:42  INFO      gm.bootstrapper  [140273691701248 MainThread] ..
...</code></pre>
</div></div>
<div class="paragraph"><p>Dringend zu empfehlen oder sogar unumgänglich sind deshalb folgenden Maßnahmen.</p></div>
</div>
<div class="sect2">
<h3 id="_anpassung_an_die_sprache_deutsch">Anpassung an die Sprache Deutsch</h3>
<div class="paragraph"><p>Die Standard-Sprache des Gnumed-Server-Pakets ist englisch. Das ist auch nicht weiter tragisch, wenn der Nutzer hierzulande einige Hinweise beachtet. Wurde der PostgreSQL-Server wie dargestellt schon vor den GNUmed-Paketen installiert, ist in der Regel für alle Datenbanken der Zeichensatz de_DE.utf8 voreingestellt. Dies sollte nicht geändert werden, um die Umlaute korrekt darzustellen. Damit ist dieser Punkt bereits durch eine Standard-Installation der PostgreSQL-Pakete erledigt.</p></div>
</div>
<div class="sect2">
<h3 id="_bugfix">Bugfix</h3>
<div class="paragraph"><p>Sobald das Kommando <em>gm-bootstrap_server</em> (zwingend als root/mittels sudo) aufgerufen wird, führt das Programm im Folgenden auch das Skript <em>bootstrap-latest.sh</em> aus. Diese Datei befindet sich im Ordner <em>/var/lib/gnumed/server/bootstrap</em>. Dies führt zum bereits beschriebenen Abbruch mit der zitierten Fehlermeldung.</p></div>
<div class="paragraph"><p>Eine Zeile der Datei muss geändert werden:</p></div>
<div class="listingblock">
<div class="title">Bugfix GNUmed Installation, Datei <em>/var/lib/gnumed/server/bootstrap</em></div>
<div class="content">
<pre><code># vorher
CONF=&#34;bootstrap-latest.conf&#34;

# nachher
CONF=&#34;./bootstrap-latest.conf&#34;</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_repo_simpelmed">Repo SimpelMed</h3>
<div class="paragraph"><p>Die Dateien finden sich im SimpelMed-Repo → TODO</p></div>
<div class="admonitionblock">
<table><tbody><tr>
<td class="icon">
<div class="title">Anmerkung</div>
</td>
<td class="content">Fazit bis hier:<br/>
→ TODO</td>
</tr></tbody></table>
</div>
<div class="paragraph"><p><br/></p></div>
<div class="paragraph"><p></p><hr/><p></p></div>
<div class="paragraph"><p>-&gt; Zurück zu <a href="../arbeitsumgebung">arbeitsumgebung</a>.</p></div>
<div class="paragraph"><p>-&gt; Zurück zu <a href="../postgresql-pgadmin">postgresql-pgadmin</a>.</p></div>
<div class="paragraph"><p>-&gt; Zurück zu <a href="../gnumed-server">gnumed-server</a>.</p></div>
<div class="paragraph"><p>-&gt; Weiter zu <a href="../gnumed-einrichtung">gnumed-einrichtung</a>.</p></div>
</div>
</div>
</div>


        

        

        
      </article>



      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
		
		  <a href="mailto:kontakt@simpelmed.de" title="Email me">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://gitlab.com/bgehrke/simpelmed/" title="GitLab">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-gitlab fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&copy;&nbsp;2023
          
          by Berthold Gehrke & Alexandra Rupp GbR &nbsp;&bull;&nbsp;letzte Änderung am 20. Oktober 2023
          
          

        </p>
        
        <p class="credits theme-by text-muted">
          Seiten erstellt mit: <a href="https://gohugo.io">Hugo v0.115.4</a> &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> angepasst von <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> und <a href="https://datenbahn.de/">datenbahn</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script defer src="https://simpelmed.de/js/katex.min.js"></script>
<script defer src="https://simpelmed.de/js/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
<script src="https://simpelmed.de/js/jquery-3.7.0.slim.min.js"></script>
<script src="https://simpelmed.de/js/bootstrap.min.js"></script>

<script src="https://simpelmed.de/js/main.js"></script><script src="https://simpelmed.de/js/photoswipe.min.js"></script>
<script src="https://simpelmed.de/js/photoswipe-ui-default.min.js"></script><script src="https://simpelmed.de/js/load-photoswipe.js"></script>









    
  </body>
</html>

